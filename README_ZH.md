# Obsidian Knowledge Assistant Plugin

一个强大的 Obsidian 插件，提供基于 AI 的智能笔记搜索和问答功能。通过先进的语义搜索和 GPT 模型，让你的笔记库变成一个智能知识助手。

**中文 | [English](README.md)**

## ✨ 核心功能

### 🔍 三种搜索模式
- **搜索**：基于内容含义的智能搜索，理解上下文语境
- **问答**：基于笔记内容回答问题，自动标注信息出处

### 🧠 AI 驱动的智能体验
- 支持 OpenAI GPT 系列模型（GPT-3.5-turbo, GPT-4-turbo）
- 自定义 API 端点，支持第三方兼容服务
- 智能向量索引和缓存系统
- 本地 embedding 模型支持（可选）

### 🎨 现代化用户界面
- 侧边栏集成设计，无缝融入 Obsidian
- 实时进度条和动画效果
- 响应式布局，适配不同屏幕尺寸
- 一键复制功能，自动转换为 Obsidian 双链格式

## 🚀 安装方法

### 方法一：手动安装
1. 下载插件文件到 `.obsidian/plugins/obsidian-knowledge-assistant/` 目录
2. 在 Obsidian 设置中启用插件
3. 配置 OpenAI API 密钥

### 方法二：社区插件（即将支持）
1. 打开 Obsidian 设置 → 第三方插件 → 社区插件
2. 搜索 "Knowledge Assistant"
3. 安装并启用插件

## 📖 使用指南

### 基本操作

1. **打开插件**：点击侧边栏的 🧠 图标
2. **选择模式**：
   - 🔍 **搜索**：输入描述进行语义搜索（需勾选语义搜索，否则仅关键词搜索）
   - 💬 **问答**：输入问题获得基于笔记的智能答案

### 智能问答详解

智能问答是本插件的核心功能，工作流程如下：

1. **问题理解**：AI 分析你的问题意图和关键信息
2. **内容检索**：在笔记库中搜索相关信息片段
3. **答案生成**：基于检索到的内容生成准确、有用的答案
4. **来源标注**：清楚标明每个信息点的来源文件

**使用示例**：

**输入问题**：什么是机器学习的主要类型？

**AI 回答**：
机器学习主要分为三种类型：

1. **监督学习**：使用标记数据训练模型，如分类和回归问题 [来源 1]
2. **无监督学习**：从未标记数据中发现隐藏模式，如聚类分析 [来源 2]  
3. **强化学习**：通过与环境交互学习最优策略，如游戏AI [来源 1]

**参考来源**：
- [1] 机器学习基础概念.md
- [2] 数据科学入门.md

**一键复制功能**：点击 📋 复制按钮，答案会自动转换为 Obsidian 双链格式：
```
机器学习主要分为三种类型：

1. **监督学习**：使用标记数据训练模型，如分类和回归问题 [[机器学习基础概念]]
2. **无监督学习**：从未标记数据中发现隐藏模式，如聚类分析 [[数据科学入门]]  
3. **强化学习**：通过与环境交互学习最优策略，如游戏AI [[机器学习基础概念]]
```

## ⚙️ 配置选项

### 基础 AI 配置
- **OpenAI API 密钥**：必需，用于 AI 功能
- **API URL**：默认 OpenAI 官方地址，可自定义为其他兼容服务
- **模型选择**：GPT-3.5-turbo（快速经济）、GPT-4-turbo（高质量）
- **温度设置**：0.0-1.0，控制回答的创造性和随机性
- **本地 Embedding**：可选的本地向量模型支持

### 搜索设置
- **文件夹访问控制**：限制搜索范围到特定文件夹
- **文件大小限制**：跳过过大文件以优化性能
- **最大搜索结果数**：控制返回结果的数量
- **相似度阈值**：设置语义搜索的最低相似度要求

### 缓存和性能
- **启用缓存**：缓存向量索引以提高搜索速度
- **缓存过期时间**：自动更新缓存的时间间隔
- **缓存管理**：手动清理缓存选项
- **批处理大小**：控制向量化处理的批次大小

## 🔧 高级功能

### 自定义 API 端点
支持使用第三方 OpenAI 兼容服务：
- **Azure OpenAI**：`https://your-resource.openai.azure.com/openai/deployments/your-deployment/`
- **本地模型**：`http://localhost:1234/v1`
- **代理服务**：`https://your-proxy.com/v1`

## 🛠️ 技术特性

- **向量搜索**：使用 cosine 相似度计算语义相关性
- **智能分块**：自动将长文档分割为合适的片段
- **增量索引**：只对修改过的文件重新创建向量
- **错误恢复**：自动重试和错误处理机制
- **多语言支持**：中英文界面切换

## ⚠️ 注意事项

1. **API 费用**：使用 OpenAI API 会产生费用，建议监控使用量
2. **网络连接**：需要稳定的网络连接访问 AI 服务
3. **首次使用**：初次创建向量索引需要较长时间，请耐心等待
4. **文件格式**：主要支持 Markdown 格式，其他格式支持有限
5. **隐私安全**：笔记内容会发送到 AI 服务商，请注意隐私保护

## 🔍 故障排除

### 错误代码说明

- `API_KEY_INVALID`: API 密钥无效或过期
- `NETWORK_ERROR`: 网络连接问题
- `QUOTA_EXCEEDED`: API 配额超限
- `FILE_TOO_LARGE`: 文件超过大小限制
- `EMBEDDING_FAILED`: 向量化处理失败

## 🔄 更新日志

### v1.0.0 (当前版本)
- ✨ 全新的智能问答功能
- ✨ 支持两种模式（搜索、问答）
- ✨ 现代化侧边栏界面设计
- ✨ 实时进度跟踪和动画效果
- ✨ 一键复制功能，自动转换双链格式
- ✨ 自定义 API 端点支持
- ✨ 完整的设置面板和缓存管理
- ✨ 中英文双语界面支持

## 🤝 贡献与支持

- **GitHub**: [项目地址](https://github.com/Sherryyue24/obsidian-knowledge-assistant)
- **问题反馈**: [提交 Issue](https://github.com/Sherryyue24/obsidian-knowledge-assistant/issues)
- **功能建议**: [讨论区](https://github.com/Sherryyue24/obsidian-knowledge-assistant/discussions)

---

**开源协议**: MIT  
**版本**: 1.0.0  
**兼容性**: Obsidian 1.0+  
**作者**: Sherry 